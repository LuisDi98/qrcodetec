(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{7922:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/RegistrarEditar",function(){return t(8113)}])},8113:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return x}});var r=t(5893),n=t(9008),a=t.n(n),s=t(4219),l=t(416),c=t(967),d=t(7294);let o=t(2592);function x(){let[e,i]=(0,d.useState)(""),[t,n]=(0,d.useState)(""),[x,h]=(0,d.useState)(""),[j,p]=(0,d.useState)(""),[u,m]=(0,d.useState)(""),[g,f]=(0,d.useState)("");async function b(e){try{let i=await o.toDataURL(e);return console.log("QR code generated as Data URL"),console.log(i),i}catch(e){throw console.error(e),Error("Failed to generate QR code Data URL")}}let w=async r=>{if(r.preventDefault(),!e||!t||!x)return p("Por favor llene todos los campos con informaci\xf3n v\xe1lida");{let r="http://127.0.0.1:3000/readQR?qrUrl="+x;try{let a=await fetch("http://127.0.0.1:3000/api/addQR",{method:"POST",body:JSON.stringify({name:e,description:t,urlFinal:r}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});a=await a.json(),i(""),n(""),h(""),p("");let s=await b(r);f(s),m("QR code agregado con \xe9xito. Volviendo a la pagina principal..."),setTimeout(()=>{alert("QR generado con \xe9xito. Se volver\xe1 a la p\xe1gina principal."),window.location.href="/"},2e3)}catch(e){p(e)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"QRCodeTEC"}),(0,r.jsx)("meta",{name:"description",content:""}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:""})]}),(0,r.jsxs)("div",{className:"ui fixed borderless huge menu",children:[(0,r.jsx)("div",{className:"item",children:(0,r.jsx)("img",{className:"ui tiny image",src:"/iei_logo.jpg"})}),(0,r.jsx)("a",{className:"header item",href:"/",children:(0,r.jsx)("h1",{children:"Instituto de Educaci\xf3n Integral"})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"ui container",children:(0,r.jsx)("center",{children:(0,r.jsx)("h1",{className:"ui header header-text",children:(0,r.jsx)("u",{children:"Generador de c\xf3digos"})})})}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"ui container border-1",children:[(0,r.jsx)("div",{className:"ui container fluid",children:(0,r.jsx)("center",{children:(0,r.jsx)("div",{className:"ui inverted segment",children:(0,r.jsx)("h2",{children:"Registrar/Editar"})})})}),(0,r.jsxs)(s.Z,{onSubmit:w,children:[(0,r.jsx)("br",{}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{flex:"1",paddingRight:"20px"},children:[(0,r.jsx)("br",{}),j?(0,r.jsx)("div",{className:"alert-error",children:j}):null,u?(0,r.jsx)("div",{className:"alert-message",children:u}):null,(0,r.jsxs)(s.Z.Field,{style:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:"50px"},children:[(0,r.jsx)("label",{style:{width:"80px"},children:"Nombre:"}),(0,r.jsx)("input",{placeholder:"Ingrese el nombre",onChange:e=>i(e.target.value),name:"nombre",style:{marginBottom:"1rem",width:"380px"},autoFocus:!0})]}),(0,r.jsxs)(s.Z.Field,{inline:!0,style:{paddingLeft:"50px"},children:[(0,r.jsx)("label",{children:"Descripci\xf3n"}),(0,r.jsx)(l.Z,{placeholder:"Ingrese la descripci\xf3n",onChange:e=>n(e.target.value),name:"descripcion",style:{marginBottom:"1rem",width:"380px"}})]}),(0,r.jsxs)(s.Z.Field,{style:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:"50px"},children:[(0,r.jsx)("br",{}),(0,r.jsx)("label",{style:{width:"80px"},children:"Direcci\xf3n de URL"}),(0,r.jsx)("input",{placeholder:"Direcci\xf3n de URL",onChange:e=>h(e.target.value),name:"Direcci\xf3n de URL",style:{marginBottom:"1rem",width:"380px"},autoFocus:!0})]}),(0,r.jsx)(c.Z,{type:"submit",style:{marginLeft:"450px",backgroundColor:"#01899c",color:"white"},children:"Registrar"})]}),g&&(0,r.jsx)("div",{style:{flex:"1",maxWidth:"400px"},children:(0,r.jsx)("img",{src:g,width:"250",height:"250"})})]})]}),(0,r.jsx)(c.Z,{style:{marginBottom:"20px",marginLeft:"10px",backgroundColor:"#01899c",color:"white"},children:(0,r.jsx)("a",{href:"/",children:"Cancelar"})})]})]})}}},function(e){e.O(0,[411,592,774,888,179],function(){return e(e.s=7922)}),_N_E=e.O()}]);