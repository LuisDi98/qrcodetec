(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{1884:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pag_estadistica_canton",function(){return n(8998)}])},8998:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var i=n(5893),r=n(9008),t=n.n(r),c=n(7294),a=n(5430),l=n(3148);l.kL.register(...l.zX);let d=e=>{let{data:s}=e;c.useEffect(()=>{l.kL.register(l.jI)},[]);let n={labels:s.map(e=>e.canton),datasets:[{data:s.map(e=>e.visits),backgroundColor:function(e){let s=[];for(let n=0;n<e;n++){let e=137.5*n%360,i="hsl(".concat(e,", 70%, 50%)");s.push(i)}return s}(s.length)}]},r=s.reduce((e,s)=>e+s.visits,0),t=()=>{window.location.href="/"};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("center",{children:[" ",(0,i.jsx)(a.$I,{data:n})," "]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)("center",{children:[" ",(0,i.jsxs)("h2",{children:["N\xfamero total de visitas: ",r]})," "]}),(0,i.jsx)("center",{children:(0,i.jsx)("button",{className:"ui medium button chart",onClick:t,children:(0,i.jsx)("h3",{children:"Regresar"})})})]})};function o(){let[e,s]=(0,c.useState)([]),n="";return(0,c.useEffect)(()=>{let e=new URLSearchParams(window.location.search),i=e.get("qrUrl"),r=e.get("parametro1");r&&(n=r),console.log("parametro1:",n);let t="".concat("http://127.0.0.1:3000/api/getQRCantones","?qrUrl=").concat(i);fetch(t).then(e=>e.json()).then(e=>{s(e.filter(e=>e.provincia===n)),console.log(e.find(e=>e.provincia===n))}).catch(e=>console.log(e))},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t(),{children:[(0,i.jsx)("title",{children:"QRCodeTEC"}),(0,i.jsx)("meta",{name:"description",content:""}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:""})]}),(0,i.jsxs)("div",{className:"ui fixed borderless huge menu",children:[(0,i.jsx)("div",{className:"item",children:(0,i.jsx)("img",{className:"ui tiny image",src:"/iei_logo.jpg"})}),(0,i.jsx)("a",{className:"header item",href:"/",children:(0,i.jsx)("h1",{children:"Instituto de Educaci\xf3n Integral"})})]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"ui container",children:(0,i.jsx)("center",{children:(0,i.jsx)("h1",{className:"ui header header-text",children:(0,i.jsx)("u",{children:"Generador de c\xf3digos"})})})}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"ui container border-1",children:[(0,i.jsx)("div",{className:"ui container fluid",children:(0,i.jsx)("center",{children:(0,i.jsx)("div",{className:"ui inverted segment",children:(0,i.jsx)("h2",{children:"Estad\xedsticas por cant\xf3n"})})})}),(0,i.jsx)("div",{className:"ui vertically divided bottom aligned grid",children:(0,i.jsxs)("div",{className:"sixteen column row",children:[(0,i.jsx)("div",{className:"two wide column"}),(0,i.jsx)("div",{className:"one wide column"}),(0,i.jsxs)("div",{className:"ten wide column",children:[(0,i.jsx)("center",{children:(0,i.jsx)("h1",{children:"Gr\xe1fico de Cantones por Visitas"})}),(0,i.jsx)(d,{data:e})]})]})})]})]})}}},function(e){e.O(0,[196,950,774,888,179],function(){return e(e.s=1884)}),_N_E=e.O()}]);