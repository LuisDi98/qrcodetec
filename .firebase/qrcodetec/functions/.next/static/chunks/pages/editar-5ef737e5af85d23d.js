(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{9439:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editar",function(){return t(6166)}])},6166:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return x}});var n=t(5893),r=t(9008),a=t.n(r),s=t(4219),l=t(416),c=t(967),d=t(7294);let o=t(2592);function x(){let[e,i]=(0,d.useState)(""),[t,r]=(0,d.useState)(""),[x,h]=(0,d.useState)(""),[u,j]=(0,d.useState)(""),[p,m]=(0,d.useState)(""),[g,f]=(0,d.useState)("");async function w(e){try{let i=await o.toDataURL(e);return console.log("QR code generated as Data URL"),console.log(i),i}catch(e){throw console.error(e),Error("Failed to generate QR code Data URL")}}let b=async n=>{if(n.preventDefault(),!e||!t||!x)return j("Por favor llene todos los campos con informaci\xf3n v\xe1lida");{let n=new URLSearchParams(window.location.search),a=n.get("id");try{let n=await fetch("http://127.0.01:3000/api/updateQR?id="+a,{method:"POST",body:JSON.stringify({name:e,description:t,url:x}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});n=await n.json(),i(""),r(""),h(""),j("");let s=await w(x);f(s),m("QR code actualizado con \xe9xito. Volviendo a la pagina principal..."),setTimeout(()=>{alert("QR actualizado con \xe9xito. Se volver\xe1 a la p\xe1gina principal."),window.location.href="/"},2e3)}catch(e){j(e)}}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"QRCodeTEC"}),(0,n.jsx)("meta",{name:"description",content:""}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:""})]}),(0,n.jsxs)("div",{className:"ui fixed borderless huge menu",children:[(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("img",{className:"ui tiny image",src:"/iei_logo.jpg"})}),(0,n.jsx)("a",{className:"header item",href:"/",children:(0,n.jsx)("h1",{children:"Instituto de Educaci\xf3n Integral"})})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{className:"ui container",children:(0,n.jsx)("center",{children:(0,n.jsx)("h1",{className:"ui header header-text",children:(0,n.jsx)("u",{children:"Generador de c\xf3digos"})})})}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"ui container border-1",children:[(0,n.jsx)("div",{className:"ui container fluid",children:(0,n.jsx)("center",{children:(0,n.jsx)("div",{className:"ui inverted segment",children:(0,n.jsx)("h2",{children:"Registrar/Editar"})})})}),(0,n.jsxs)(s.Z,{onSubmit:b,children:[(0,n.jsx)("br",{}),(0,n.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,n.jsxs)("div",{style:{flex:"1",paddingRight:"20px"},children:[(0,n.jsx)("br",{}),u?(0,n.jsx)("div",{className:"alert-error",children:u}):null,p?(0,n.jsx)("div",{className:"alert-message",children:p}):null,(0,n.jsxs)(s.Z.Field,{style:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:"50px"},children:[(0,n.jsx)("label",{style:{width:"80px"},children:"Nombre:"}),(0,n.jsx)("input",{placeholder:"Ingrese el nombre",onChange:e=>i(e.target.value),name:"nombre",style:{marginBottom:"1rem",width:"380px"},autoFocus:!0})]}),(0,n.jsxs)(s.Z.Field,{inline:!0,style:{paddingLeft:"50px"},children:[(0,n.jsx)("label",{children:"Descripci\xf3n"}),(0,n.jsx)(l.Z,{placeholder:"Ingrese la descripci\xf3n",onChange:e=>r(e.target.value),name:"descripcion",style:{marginBottom:"1rem",width:"380px"}})]}),(0,n.jsxs)(s.Z.Field,{style:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:"50px"},children:[(0,n.jsx)("br",{}),(0,n.jsx)("label",{style:{width:"80px"},children:"Direcci\xf3n de URL"}),(0,n.jsx)("input",{placeholder:"Direcci\xf3n de URL",onChange:e=>h(e.target.value),name:"Direcci\xf3n de URL",style:{marginBottom:"1rem",width:"380px"},autoFocus:!0})]}),(0,n.jsx)(c.Z,{type:"submit",style:{marginLeft:"450px",backgroundColor:"#01899c",color:"white"},children:"Registrar"})]}),g&&(0,n.jsx)("div",{style:{flex:"1",maxWidth:"400px"},children:(0,n.jsx)("img",{src:g,width:"250",height:"250"})})]})]}),(0,n.jsx)(c.Z,{style:{marginBottom:"20px",marginLeft:"10px",backgroundColor:"#01899c",color:"white"},children:(0,n.jsx)("a",{href:"/",children:"Cancelar"})})]})]})}}},function(e){e.O(0,[411,592,774,888,179],function(){return e(e.s=9439)}),_N_E=e.O()}]);