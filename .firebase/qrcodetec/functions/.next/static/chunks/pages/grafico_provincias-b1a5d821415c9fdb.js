(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{2893:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/grafico_provincias",function(){return i(6948)}])},6948:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return o}});var n=i(5893),r=i(9008),c=i.n(r),t=i(7294),a=i(5430),l=i(3148);l.kL.register(...l.zX);let d=e=>{let{data:s}=e;t.useEffect(()=>{l.kL.register(l.jI)},[]);let i=(()=>{let e={};return s.forEach(s=>{let i=s.provincia,n=s.visits;e.hasOwnProperty(i)?e[i]+=n:e[i]=n}),e})(),r={labels:Object.keys(i),datasets:[{data:Object.values(i),backgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},c=e=>{let s=new URLSearchParams(window.location.search),i=s.get("qrUrl"),n="/pag_estadistica_canton?qrUrl=".concat(i,"&parametro1=").concat(e," ");window.location.href=n},d=(e,s)=>{if(s.length>0){let e=s[0],i=e.index,n=r.labels[i];c(n)}},o=Object.values(i).reduce((e,s)=>e+s,0),h=()=>{window.location.href="/"};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("center",{children:[" ",(0,n.jsx)(a.$I,{data:r,options:{onClick:d}})," "]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("center",{children:[" ",(0,n.jsxs)("h2",{children:["N\xfamero total de visitas: ",o]})," "]}),(0,n.jsx)("center",{children:(0,n.jsx)("button",{className:"ui medium button chart",onClick:h,children:(0,n.jsx)("h3",{children:"Regresar"})})})]})};function o(){let[e,s]=(0,t.useState)([]);return(0,t.useEffect)(()=>{let e=new URLSearchParams(window.location.search),i=e.get("qrUrl"),n="".concat("http://127.0.0.1:3000/api/getQRProvinces","?qrUrl=").concat(i);fetch(n).then(e=>e.json()).then(e=>s(e)).catch(e=>console.log(e))},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:"QRCodeTEC"}),(0,n.jsx)("meta",{name:"description",content:""}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:""})]}),(0,n.jsxs)("div",{className:"ui fixed borderless huge menu",children:[(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("img",{className:"ui tiny image",src:"/iei_logo.jpg"})}),(0,n.jsx)("a",{className:"header item",href:"/",children:(0,n.jsx)("h1",{children:"Instituto de Educaci\xf3n Integral"})})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{className:"ui container",children:(0,n.jsx)("center",{children:(0,n.jsx)("h1",{className:"ui header header-text",children:(0,n.jsx)("u",{children:"Generador de c\xf3digos"})})})}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"ui container border-1",children:[(0,n.jsx)("div",{className:"ui container fluid",children:(0,n.jsx)("center",{children:(0,n.jsx)("div",{className:"ui inverted segment",children:(0,n.jsx)("h2",{children:"Estad\xedsticas por provincia"})})})}),(0,n.jsx)("div",{className:"ui vertically divided bottom aligned grid",children:(0,n.jsxs)("div",{className:"sixteen column row",children:[(0,n.jsx)("div",{className:"two wide column"}),(0,n.jsx)("div",{className:"one wide column"}),(0,n.jsxs)("div",{className:"ten wide column",children:[(0,n.jsx)("center",{children:(0,n.jsx)("h1",{children:"Gr\xe1fico de Provincias por Visitas"})}),(0,n.jsx)(d,{data:e})]})]})})]})]})}}},function(e){e.O(0,[196,950,774,888,179],function(){return e(e.s=2893)}),_N_E=e.O()}]);