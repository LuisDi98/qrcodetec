(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(882)}])},882:function(e,i,n){"use strict";n.r(i),n.d(i,{__N_SSP:function(){return o},default:function(){return t}});var s=n(5893),c=n(9008),a=n.n(c),r=n(7294);function l(e){return(0,s.jsx)("div",{children:e.children})}let d=n(2592);var o=!0;function t(e){let[i,n]=(0,r.useState)(e.qrCodes),[c,o]=(0,r.useState)(""),t=()=>{fetch("/api/getQRsbyName?name=".concat(c)).then(e=>e.json()).then(e=>{n(e)}).catch(e=>{console.error("Error al intentar obtener los c\xf3digos QR:",e)})},m=async e=>{try{let i=window.confirm("Seguro que quiere borrar este c\xf3digo QR?");if(!i)return;let n=await fetch("/api/deleteQR?id=".concat(e),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});n=await n.json(),window.location.reload()}catch(e){console.log("Un error ocurri\xf3 al intentar borrar el c\xf3digo QR ",e)}};async function u(e,i){try{let n=await d.toDataURL(e);console.log("C\xf3digo QR generado como DataURL"),console.log(n);let s=document.createElement("a");return s.href=n,s.download=i+".png",s.click(),n}catch(e){throw console.error(e),Error("No se pudo generar el DataURL del c\xf3digo QR")}}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"QRCodeTEC"}),(0,s.jsx)("meta",{name:"description",content:""}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:""})]}),(0,s.jsxs)("div",{className:"ui fixed borderless huge menu",children:[(0,s.jsx)("div",{className:"item",children:(0,s.jsx)("img",{className:"ui tiny image",src:"/iei_logo.jpg"})}),(0,s.jsx)("a",{className:"header item",href:"/",children:(0,s.jsx)("h1",{children:"Instituto de Educaci\xf3n Integral"})})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"ui container",children:(0,s.jsx)("center",{children:(0,s.jsx)("h1",{className:"ui header header-text",children:(0,s.jsx)("u",{children:"Generador de c\xf3digos"})})})}),(0,s.jsx)(l,{children:(0,s.jsxs)("div",{className:"ui container border-1",children:[(0,s.jsx)("div",{className:"ui container fluid",children:(0,s.jsx)("center",{children:(0,s.jsx)("div",{className:"ui inverted segment",children:(0,s.jsx)("h2",{children:"Nombre de la p\xe1gina"})})})}),(0,s.jsx)("div",{className:"ui container border-1",children:(0,s.jsx)("div",{className:"ui vertically divided bottom aligned grid",children:(0,s.jsxs)("div",{className:"four column row",children:[(0,s.jsx)("div",{className:"one wide column"}),(0,s.jsx)("div",{className:"one wide column",children:(0,s.jsx)("button",{className:"ui icon button",onClick:t,children:(0,s.jsx)("img",{className:"ui mini image",src:"/search-icon.png"})})}),(0,s.jsx)("div",{className:"eleven wide column go-bottom",children:(0,s.jsx)("div",{className:"ui fluid large icon input",children:(0,s.jsx)("input",{type:"text",placeholder:"Buscar nombre de la pagina",value:c,onChange:e=>o(e.target.value)})})}),(0,s.jsx)("div",{className:"one wide column",children:(0,s.jsx)("button",{className:"ui small button",children:(0,s.jsx)("a",{href:"/RegistrarEditar",children:(0,s.jsx)("h3",{children:"Registrar"})})})})]})})}),i.length>0?(0,s.jsx)("div",{className:"qrcodes-list",children:i.map((e,i)=>(0,s.jsx)("div",{className:"ui container border-1",children:(0,s.jsx)("div",{className:"ui vertically divided bottom aligned grid",children:(0,s.jsxs)("div",{className:"four column row",children:[(0,s.jsx)("div",{className:"one wide column"}),(0,s.jsx)("div",{className:"seven wide column",children:(0,s.jsx)("div",{className:"ui middle aligned mini message",children:(0,s.jsx)("div",{className:"middle aligned header",children:(0,s.jsx)("h1",{children:e.name})})})}),(0,s.jsx)("div",{className:"two wide column",children:(0,s.jsx)("button",{className:"ui tiny icon button",onClick:()=>{var i;return i=e._id,void(window.location.href="/editar?id="+i)},children:(0,s.jsx)("img",{className:"ui tiny image",src:"/pencil-icon.png"})})}),(0,s.jsx)("div",{className:"two wide column",children:(0,s.jsx)("button",{className:"ui tiny icon button",onClick:()=>u(e.url,e.name),children:(0,s.jsx)("img",{className:"ui tiny image",src:"/download-icon.png"})})}),(0,s.jsx)("div",{className:"two wide column",children:(0,s.jsx)("div",{className:"ui tiny fluid menu",children:(0,s.jsxs)("div",{className:"ui tiny simple fluid dropdown item",children:[(0,s.jsx)("img",{className:"ui tiny fluid image",src:"/stats-icon.png"}),(0,s.jsx)("div",{className:"menu",children:(0,s.jsx)("div",{className:"item",children:(0,s.jsx)("a",{href:"/grafico_provincias?qrUrl=".concat(e.url.split("=")[1]),children:(0,s.jsx)("h2",{children:"Por provincias"})})})})]})})}),(0,s.jsx)("div",{className:"two wide column",children:(0,s.jsx)("button",{className:"ui tiny icon button",onClick:()=>m(e._id),children:(0,s.jsx)("img",{className:"ui tiny image",src:"/trash-icon.png"})})})]},i)})}))}):(0,s.jsx)("h1",{className:"qrcodes-body-heading",children:(0,s.jsx)("center",{children:"No se encontraron c\xf3digos QR."})})]})})]})}},9008:function(e,i,n){e.exports=n(2636)}},function(e){e.O(0,[592,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);